<header class="bg-white shadow-sm border-b border-gray-200" data-controller="header">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center py-4">
      <div class="flex items-center">
        <% logo_path = current_user ? dashboard_index_path : root_path %>
        <%= link_to logo_path, class:"flex items-center hover:opacity-80" do %>
          <%= image_tag "avatar.png", class: "h-10 w-10" %>
          <span class="ml-3 font-semibold text-xl text-gray-900"><%= Rails.application.credentials.company_name %></span>
        <% end %>
      </div>
      <div class="hidden md:flex md:items-center md:space-x-8">
        <%= link_to 'Admin', admin_root_path, class: nav_link_classes('admin/dashboard') if current_user&.admin? %>

        <%= link_to 'Blog', blog_posts_path, class: "text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium" %>
        <% if current_user %>
          <%= link_to 'Dashboard', dashboard_index_path, class: "text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium" %>
          <%= link_to 'Account', account_index_path, class: "text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium" %>
          <%= link_to 'Logout', logout_path, class: "text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium", data: { turbo: false } %>
        <% else %>
          <%= link_to 'Contact', "mailto:#{Rails.application.credentials.admin_email}", target: '_blank', class: "text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium" %>
          <%= link_to 'Login', new_user_session_path, class: "text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium" %>
          <%= link_to 'Signup', new_user_registration_path, class: "bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700" %>
        <% end %>
      </div>
    </div>
  </nav>
</header>


<!-- smooth scroll nav links -->
<script type="text/javascript">
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
          e.preventDefault();

          document.querySelector(this.getAttribute('href')).scrollIntoView({
              behavior: 'smooth'
          });
      });
  });
</script>
